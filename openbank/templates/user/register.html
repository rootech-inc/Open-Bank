{% extends 'base.html' %}
{% load static %}

{% block body %}

    <form method="post" action="{% url 'sign_up' %}" id="loginContainer" class="container p-0 d-flex flex-wrap align-content-end h-100">
        {% csrf_token %}
        <div class="w-100 text-center">
            <img src="{% static 'ob.png' %}" style="width: 50px" alt="" class="img-fluid mb-5"><br>
        </div>

        <div id="information" style="display: none" class="p-4 h-60 w-100 bg-light login_screen">

            <div class="w-100 h-100 d-flex flex-wrap align-content-center">
                <div class="w-100 text-center mb-4">
                    <span class="badge badge-info rounded-circle">1</span>
                    <span>--</span>
                    <span class="rounded-circle badge badge-light border-info border">2</span>
                </div>


                <input type="text" id="first_name" name="first_name" required class="form-control input mb-3 form-control-sm" placeholder="First Name">
                <input type="text" id="last_name" name="last_name" required class="form-control input mb-3 form-control-sm" placeholder="Last Name">
                <div id="name_error"></div>
                <input type="text" id="country" name="country" required class="form-control mb-3 input form-control-sm" placeholder="Country">
                <input type="text" id="city" name="city" required class="form-control input mb-3 form-control-sm" placeholder="City">
                <input type="text" id="address" name="address" required class="form-control mb-3 input form-control-sm" placeholder="Address">

                <button type="button" onclick="login.screen('contact')" class="btn w-100 mb-2 btn-green">NEXT</button>

                <a href="" class="btn w-100 btn-outline-green">LOGIN</a>


            </div>

        </div>

        <div id="contact" style="display: none" class="p-4 h-60 w-100 bg-light login_screen">

            <div class="w-100 h-100 d-flex flex-wrap align-content-center">
                <div class="w-100 text-center mb-4">
                    <span class="badge badge-light border border-info rounded-circle">1</span>
                    <span>--</span>
                    <span class="rounded-circle badge badge-info">2</span>
                </div>

                <label for="">Primary Contact</label><select name="contct_method" id="" class="form-control form-control-sm input mb-3">
                    <option value="email">Email</option>
                    <option value="mobile">Mobile</option>
                </select>


                <input type="email" class="form-control input mb-3 form-control-sm" name="email" placeholder="Email Address">
                <input type="tel" class="form-control mb-3 input form-control-sm" name="mobile" placeholder="Mobile Number">
                <input type="password" name="password" class="form-control form-control-sm mb-2" required placeholder="Password">

                <div class="w-100 d-flex flex-wrap justify-content-between">
                    <button type="button" onclick="login.screen('information')" class="btn w-45 mb-2 btn-warning btn-sm">BACK</button>
                    <button type="submit" class="btn w-45 mb-2 btn-success btn-sm">SUBMIT</button>
                </div>

                <a href="" class="btn w-100 btn-outline-green btn-sm">LOGIN</a>


            </div>

        </div>

        <div id="success" style="display: none" class="p-4 h-60 w-100 bg-light login_screen">

            <div class="w-100 h-100 d-flex flex-wrap align-content-center justify-content-center">

                <i style="font-size: xxx-large" class="fa rounded-circle text-success border border-success p-2 fa-check" aria-hidden="true"></i>
                <div class="text-center text-success mt-2">
                    Registration successful, please check your email to activate your account
                </div>


            </div>

        </div>

    </form>

<script>
    class Login{
        screen(ss){

            let form_error = 0
            let form_error_msg = ''
            console.log(ss)
            if(ss === 'contact')
            {
                // validate information
                let full_name,country,city,address
                full_name = $('#first_name')
                country = $('#country')
                city = $('#city')
                address = $('#address')

                if(full_name.val().length < 1)
                {
                    form_error += 1
                    full_name.addClass('bg-danger')
                }


            }

            if(ss === 'success')
            {
                $('#loginContainer').submit()
            }

            if(form_error === 0)
            {
                let screens = ['contact','information','success']
                for (let i = 0; i < screens.length; i++) {
                    let this_screen = `#${screens[i]}`

                    console.log(`${screens[i]} and ${ss}`)

                    if(screens[i] === ss)
                    {

                        $(this_screen).show()
                    }
                    else
                    {
                        $(this_screen).hide()
                    }
                    console.log(this_screen)
                }
            } else
            {
                alert('There is an error inform')
            }


        }
    }

    let login = new Login()
    login.screen('information')

</script>

{% endblock %}

